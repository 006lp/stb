import{_ as X,l as x,c as E,k as _,m as a,n as p,t as S}from"./index-VChYWv4H.js";const T={class:"drag-verify"},k={class:"text"},C=Object.assign({name:"Captcha"},{__name:"Captcha",props:{value:{type:Boolean,defalut:!1},successIcon:{type:String,default:"iconfont icon-status-nor"},successText:{type:String,default:"验证成功"},startIcon:{type:String,default:"iconfont icon-login-slid"},startText:{type:String,default:"拖动滑块到最右边"}},emits:["update:value"],setup(n,{emit:h}){const y=h,e=x(!1),l="ontouchstart"in document.documentElement,r=l?"touchmove":"mousemove",i=l?"touchend":"mouseup",u=o=>{let t=0;const d=40,s=document.querySelector(".drag-verify .block"),g=o.clientX||o.touches[0].pageX,c=s.offsetWidth-d;if(e.value)return!1;const m=v=>{t=(v.clientX||v.touches[0].pageX)-g,t<=0&&(t=0),t>=c-d&&(t=c),s.style.transition=".1s all",s.style.transform=`translateX(${t}px)`},f=()=>{t!==c?(s.style.transition=".5s all",s.style.transform="translateX(0)"):(e.value=!0,y("update:value",e.value)),document.removeEventListener(r,m),document.removeEventListener(i,f)};document.addEventListener(r,m),document.addEventListener(i,f)};return(o,t)=>(_(),E("div",T,[a("div",{class:p(["range",e.value?"success":""])},[a("div",{class:"block",onMousedown:u,onTouchstart:u},[a("i",{class:p(e.value?n.successIcon:n.startIcon)},null,2)],32),a("span",k,S(e.value?n.successText:n.startText),1)],2)]))}}),W=X(C,[["__scopeId","data-v-84e7f8ef"]]);export{W as C};
