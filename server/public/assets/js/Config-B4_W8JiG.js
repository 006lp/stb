import{r as e,w as a,o as l,f as u,i as t,m as d,J as r,aq as o,g as v,ai as n,V as c,W as s,k as i,l as p,aj as h,ak as g,aK as b,h as f,a0 as _,y as m,z as k,at as y,q as U,x as q,al as w,aL as S,aM as x,aN as I,aG as K,E as P,a1 as T,j as C,aO as D,aP as A,aQ as R,aR as L,aI as j,aJ as B}from"./vendor-Ct0GE2cv.js";import{_ as G,u as M,i as O}from"./index-D-heiWuO.js";import{i as F,b as H}from"./formatDate-_UAqMSvc.js";const z={class:"config-container"},E=G({__name:"Config",setup(G){const E=M(),N=e(!1),J=e(!1),W=e([]),Y=e(""),Q=e("1"),V=Object.entries(F).filter((([e])=>"get"!==e)).map((([e,a])=>({value:e,label:a}))),$=[{value:"home",label:"图床首页"},{value:"my",label:"我的图片"},{value:"gallery",label:"图片广场"},{value:"docs",label:"接口文档"}],X=e({site:{},upload:{},storage:{},watermark:{},ip:{},ai:{},oauth:{}}),Z=[{label:"变量",prop:"variable"},{label:"说明",prop:"description"},{label:"示例",prop:"example"}],ee=[{variable:"{Y}",description:"年份（4位）",example:"2024"},{variable:"{y}",description:"年份（2位）",example:"24"},{variable:"{m}",description:"月份",example:"03"},{variable:"{d}",description:"日期",example:"15"},{variable:"{Ymd}",description:"年月日",example:"20240315"},{variable:"{filename}",description:"原始文件名",example:"image"},{variable:"{ext}",description:"文件扩展名",example:"jpg"},{variable:"{time}",description:"时间戳",example:"1748695143942"},{variable:"{uniqid}",description:"唯一ID",example:"a1b2c3d4"},{variable:"{md5}",description:"文件MD5值",example:"d41d8cd98f00b204e9800998ecf8427e"},{variable:"{sha1}",description:"文件SHA1值",example:"da39a3ee5e6b4b0d3255bfef95601890afd80709"},{variable:"{uuid}",description:"UUID",example:"550e8400-e29b-41d4-a716-446655440000"},{variable:"{uid}",description:"用户ID（仅登录用户）",example:"123456"}],ae=async e=>{var a;try{const a=new FormData;a.append("image",e);const{data:l}=await O.post("/api/admin/upload-watermark",a);return X.value.watermark.image.path=l.path,r.success("水印图片上传成功"),!1}catch({response:l}){return r.error(null==(a=null==l?void 0:l.data)?void 0:a.error),!1}},le=async()=>{var e;try{await O.delete(`/api/admin/delete-watermark/${encodeURIComponent(X.value.watermark.image.path)}`),X.value.watermark.image.path="",r.success("水印图片删除成功")}catch({response:a}){r.error(null==(e=null==a?void 0:a.data)?void 0:e.error)}},ue=e=>{const{ip:a}=X.value;a.blacklist=e.target.value.split("\n").map((e=>e.trim())).filter((e=>e))},te=async()=>{var e;J.value=!0;try{const{data:e}=await O.put("/api/admin/config",X.value),{site:a,upload:l,ai:u,oauth:t}=X.value;E.config=JSON.parse(JSON.stringify({site:a,upload:l,ai:{enabled:u.enabled},oauth:{enabled:t.enabled,github:{enabled:t.github.enabled},google:{enabled:t.google.enabled},linuxdo:{enabled:t.linuxdo.enabled}}})),r.success(e.message)}catch({response:a}){r.error(null==(e=null==a?void 0:a.data)?void 0:e.error)}finally{J.value=!1}};return a((()=>Q.value),(e=>{E.activeKey=e||"1"})),l((()=>{Q.value=E.activeKey||"1",(async()=>{var e;N.value=!0;try{const{data:e}=await O.post("/api/admin/config"),{ip:a}=e;X.value=e,Y.value=a.blacklist.join("\n")}catch({response:a}){r.error(null==(e=null==a?void 0:a.data)?void 0:e.error)}finally{N.value=!1}})()})),(e,a)=>{const l=g,r=h,G=b,M=y,O=_,F=s,de=w,re=x,oe=S,ve=I,ne=P,ce=K,se=T,ie=D,pe=A,he=L,ge=R,be=B,fe=j,_e=c,me=n,ke=o;return v(),u("div",z,[t(ke,{spinning:N.value},{default:d((()=>[t(me,{model:X.value,layout:"vertical",onFinish:te},{default:d((()=>[t(_e,{activeKey:Q.value,"onUpdate:activeKey":a[151]||(a[151]=e=>Q.value=e),accordion:"",bordered:!1,style:{background:"#f0f2f5"}},{default:d((()=>[t(F,{key:"1",header:"站点设置"},{default:d((()=>[t(r,{required:"",label:"网站标题"},{default:d((()=>[t(l,{value:X.value.site.title,"onUpdate:value":a[0]||(a[0]=e=>X.value.site.title=e)},null,8,["value"])])),_:1}),t(r,{required:"",label:"网站URL"},{default:d((()=>[t(l,{value:X.value.site.url,"onUpdate:value":a[1]||(a[1]=e=>X.value.site.url=e)},null,8,["value"])])),_:1}),t(r,{label:"是否开启验证码"},{default:d((()=>[t(G,{checked:X.value.site.captcha,"onUpdate:checked":a[2]||(a[2]=e=>X.value.site.captcha=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),t(r,{label:"是否开启API接口文档页面"},{default:d((()=>[t(G,{checked:X.value.site.api,"onUpdate:checked":a[3]||(a[3]=e=>X.value.site.api=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),t(r,{label:"是否开启图片广场页面"},{default:d((()=>[t(G,{checked:X.value.site.gallery,"onUpdate:checked":a[4]||(a[4]=e=>X.value.site.gallery=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),t(r,{label:"是否游客上传"},{default:d((()=>[t(G,{checked:X.value.site.anonymousUpload,"onUpdate:checked":a[5]||(a[5]=e=>X.value.site.anonymousUpload=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),t(r,{label:"是否开启注册"},{default:d((()=>[t(G,{checked:X.value.site.register,"onUpdate:checked":a[6]||(a[6]=e=>X.value.site.register=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.site.register?(v(),i(r,{key:0,label:"是否开启邀请码注册"},{default:d((()=>[t(G,{checked:X.value.site.inviteCodeRequired,"onUpdate:checked":a[7]||(a[7]=e=>X.value.site.inviteCodeRequired=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1})):p("",!0),t(r,{label:"导航栏顺序"},{default:d((()=>[t(O,{value:X.value.site.navigationOrder,"onUpdate:value":a[8]||(a[8]=e=>X.value.site.navigationOrder=e),mode:"multiple",placeholder:"选择导航项",style:{width:"100%"}},{default:d((()=>[(v(),u(m,null,k($,(e=>t(M,{key:e.value,value:e.value},{default:d((()=>[U(q(e.label),1)])),_:2},1032,["value"]))),64))])),_:1},8,["value"]),a[152]||(a[152]=f("p",null,"注意: 修改该设置后访问网站根目录时会自动重定向到该设置的第一项",-1))])),_:1,__:[152]})])),_:1}),t(F,{key:"2",header:"SMTP设置"},{default:d((()=>[X.value.site.register?(v(),u(m,{key:0},[t(r,{label:"是否开启邮箱验证"},{default:d((()=>[t(G,{checked:X.value.smtp.enabled,"onUpdate:checked":a[9]||(a[9]=e=>X.value.smtp.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.smtp.enabled?(v(),u(m,{key:0},[t(r,{required:"",label:"发件人邮箱地址"},{default:d((()=>[t(l,{value:X.value.smtp.from,"onUpdate:value":a[10]||(a[10]=e=>X.value.smtp.from=e),placeholder:"输入发件人邮箱地址"},null,8,["value"])])),_:1}),t(r,{required:"",label:"发件人名称"},{default:d((()=>[t(l,{value:X.value.smtp.fromName,"onUpdate:value":a[11]||(a[11]=e=>X.value.smtp.fromName=e),placeholder:"输入发件人名称"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SMTP 服务器地址"},{default:d((()=>[t(l,{value:X.value.smtp.host,"onUpdate:value":a[12]||(a[12]=e=>X.value.smtp.host=e),placeholder:"输入 SMTP 服务器地址，例如：smtp.qiye.aliyun.com"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SMTP 服务器端口"},{default:d((()=>[t(l,{value:X.value.smtp.port,"onUpdate:value":a[13]||(a[13]=e=>X.value.smtp.port=e),placeholder:"输入 SMTP 服务器端口，例如：465"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SMTP 加密方式"},{default:d((()=>[t(O,{value:X.value.smtp.secure,"onUpdate:value":a[14]||(a[14]=e=>X.value.smtp.secure=e)},{default:d((()=>[t(M,{value:"none"},{default:d((()=>a[153]||(a[153]=[U("无")]))),_:1,__:[153]}),t(M,{value:"ssl"},{default:d((()=>a[154]||(a[154]=[U("SSL")]))),_:1,__:[154]}),t(M,{value:"tls"},{default:d((()=>a[155]||(a[155]=[U("TLS")]))),_:1,__:[155]})])),_:1},8,["value"])])),_:1}),t(r,{required:"",label:"SMTP 用户名"},{default:d((()=>[t(l,{value:X.value.smtp.username,"onUpdate:value":a[15]||(a[15]=e=>X.value.smtp.username=e),placeholder:"输入 SMTP 用户名"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SMTP 密码"},{default:d((()=>[t(de,{value:X.value.smtp.password,"onUpdate:value":a[16]||(a[16]=e=>X.value.smtp.password=e),placeholder:"输入 SMTP 密码"},null,8,["value"])])),_:1})],64)):p("",!0)],64)):p("",!0)])),_:1}),t(F,{key:"3",header:"水印设置"},{default:d((()=>[t(r,null,{default:d((()=>[t(G,{checked:X.value.watermark.enabled,"onUpdate:checked":a[17]||(a[17]=e=>X.value.watermark.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.watermark.enabled?(v(),u(m,{key:0},[t(r,{label:"水印类型"},{default:d((()=>[t(oe,{value:X.value.watermark.type,"onUpdate:value":a[18]||(a[18]=e=>X.value.watermark.type=e)},{default:d((()=>[t(re,{value:"text"},{default:d((()=>a[156]||(a[156]=[U("文字水印")]))),_:1,__:[156]}),t(re,{value:"image"},{default:d((()=>a[157]||(a[157]=[U("图片水印")]))),_:1,__:[157]})])),_:1},8,["value"])])),_:1}),"text"===X.value.watermark.type?(v(),u(m,{key:0},[t(r,{label:"水印文字"},{default:d((()=>[t(l,{value:X.value.watermark.text.content,"onUpdate:value":a[19]||(a[19]=e=>X.value.watermark.text.content=e)},null,8,["value"])])),_:1}),t(r,{label:"字体大小"},{default:d((()=>[t(ve,{value:X.value.watermark.text.fontSize,"onUpdate:value":a[20]||(a[20]=e=>X.value.watermark.text.fontSize=e),min:12,max:72},null,8,["value"])])),_:1}),t(r,{label:"字体颜色"},{default:d((()=>[t(l,{value:X.value.watermark.text.color,"onUpdate:value":a[21]||(a[21]=e=>X.value.watermark.text.color=e),type:"color"},null,8,["value"])])),_:1})],64)):(v(),u(m,{key:1},[t(r,{label:"上传水印"},{default:d((()=>[t(ce,{fileList:W.value,"onUpdate:fileList":a[22]||(a[22]=e=>W.value=e),beforeUpload:ae,showUploadList:!1},{default:d((()=>[t(ne,null,{default:d((()=>a[158]||(a[158]=[U("选择水印图片")]))),_:1,__:[158]})])),_:1},8,["fileList"])])),_:1}),X.value.watermark.image.path?(v(),u(m,{key:0},[t(r,{label:"水印管理"},{default:d((()=>[t(ne,{onClick:le},{default:d((()=>a[159]||(a[159]=[U("删除水印图片")]))),_:1,__:[159]})])),_:1}),t(r,{label:"水印图片"},{default:d((()=>[t(se,{src:C(E).config.site.url+X.value.watermark.image.path},null,8,["src"])])),_:1}),t(r,{label:"水印图片URL"},{default:d((()=>[t(ie,{value:X.value.watermark.image.path,"onUpdate:value":a[23]||(a[23]=e=>X.value.watermark.image.path=e),"auto-size":"",disabled:""},null,8,["value"])])),_:1}),t(r,{label:"透明度"},{default:d((()=>[t(pe,{value:X.value.watermark.image.opacity,"onUpdate:value":a[24]||(a[24]=e=>X.value.watermark.image.opacity=e),min:0,max:1,step:.1},null,8,["value"])])),_:1})],64)):p("",!0)],64)),t(r,{label:"水印位置"},{default:d((()=>[t(O,{value:X.value.watermark[X.value.watermark.type].position,"onUpdate:value":a[25]||(a[25]=e=>X.value.watermark[X.value.watermark.type].position=e)},{default:d((()=>[t(M,{value:"top-left"},{default:d((()=>a[160]||(a[160]=[U("左上")]))),_:1,__:[160]}),t(M,{value:"top-right"},{default:d((()=>a[161]||(a[161]=[U("右上")]))),_:1,__:[161]}),t(M,{value:"bottom-left"},{default:d((()=>a[162]||(a[162]=[U("左下")]))),_:1,__:[162]}),t(M,{value:"bottom-right"},{default:d((()=>a[163]||(a[163]=[U("右下")]))),_:1,__:[163]}),t(M,{value:"center"},{default:d((()=>a[164]||(a[164]=[U("居中")]))),_:1,__:[164]})])),_:1},8,["value"])])),_:1}),t(r,{label:"是否平铺水印"},{default:d((()=>[t(G,{checked:X.value.watermark.tile,"onUpdate:checked":a[26]||(a[26]=e=>X.value.watermark.tile=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"]),a[165]||(a[165]=f("p",null,"本功能仅支持: jpg、jpeg、png 或 webp",-1)),a[166]||(a[166]=f("p",null,"开启后水印将会铺满整张图片",-1))])),_:1,__:[165,166]})],64)):p("",!0)])),_:1}),t(F,{key:"4",header:"存储设置"},{default:d((()=>[t(r,{label:"存储类型"},{default:d((()=>[t(O,{value:X.value.storage.type,"onUpdate:value":a[27]||(a[27]=e=>X.value.storage.type=e)},{default:d((()=>[(v(!0),u(m,null,k(C(V),((e,a)=>(v(),i(M,{value:e.value,key:a},{default:d((()=>[U(q(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),"local"===X.value.storage.type?(v(),i(r,{key:0,required:"",label:"储存目录"},{default:d((()=>[t(l,{value:X.value.storage.local.path,"onUpdate:value":a[28]||(a[28]=e=>X.value.storage.local.path=e),placeholder:"输入储存目录"},null,8,["value"])])),_:1})):p("",!0),"oss"===X.value.storage.type?(v(),u(m,{key:1},[t(r,{required:"",label:"AccessKey ID"},{default:d((()=>[t(l,{value:X.value.storage.oss.accessKeyId,"onUpdate:value":a[29]||(a[29]=e=>X.value.storage.oss.accessKeyId=e),placeholder:"输入 AccessKeyId"},null,8,["value"])])),_:1}),t(r,{required:"",label:"AccessKey Secret"},{default:d((()=>[t(de,{value:X.value.storage.oss.accessKeySecret,"onUpdate:value":a[30]||(a[30]=e=>X.value.storage.oss.accessKeySecret=e),placeholder:"输入 AccessKeySecret"},null,8,["value"])])),_:1}),t(r,{required:"",label:"OSS Bucket"},{default:d((()=>[t(l,{value:X.value.storage.oss.bucket,"onUpdate:value":a[31]||(a[31]=e=>X.value.storage.oss.bucket=e)},null,8,["value"])])),_:1}),t(r,{label:"储存目录"},{default:d((()=>[t(l,{value:X.value.storage.oss.path,"onUpdate:value":a[32]||(a[32]=e=>X.value.storage.oss.path=e),placeholder:"输入储存目录"},null,8,["value"])])),_:1}),t(r,{label:"OSS Region"},{default:d((()=>[t(l,{value:X.value.storage.oss.region,"onUpdate:value":a[33]||(a[33]=e=>X.value.storage.oss.region=e),placeholder:"输入 Region，例如：cn-shanghai"},null,8,["value"])])),_:1}),t(r,{required:"",label:"外网 Endpoint"},{default:d((()=>[t(l,{value:X.value.storage.oss.endpoint,"onUpdate:value":a[34]||(a[34]=e=>X.value.storage.oss.endpoint=e),placeholder:"输入 Endpoint，例如：oss-cn-shanghai.aliyuncs.com"},null,8,["value"])])),_:1}),t(r,{label:"内网 Endpoint"},{default:d((()=>[t(l,{value:X.value.storage.oss.internal,"onUpdate:value":a[35]||(a[35]=e=>X.value.storage.oss.internal=e),placeholder:"输入内网 Endpoint，内网上传地址，填写即启用，例如：oss-cn-shanghai-internal.aliyuncs.com"},null,8,["value"])])),_:1}),t(r,{label:"Is Cname"},{default:d((()=>[t(G,{checked:X.value.storage.oss.isCname,"onUpdate:checked":a[36]||(a[36]=e=>X.value.storage.oss.isCname=e),"checked-children":"是","un-checked-children":"否"},null,8,["checked"]),a[167]||(a[167]=f("p",null,"若 Endpoint 为自定义域名，请打开此项。",-1))])),_:1,__:[167]})],64)):p("",!0),"cos"===X.value.storage.type?(v(),u(m,{key:2},[t(r,{required:"",label:"Secret Id"},{default:d((()=>[t(l,{value:X.value.storage.cos.secretId,"onUpdate:value":a[37]||(a[37]=e=>X.value.storage.cos.secretId=e),placeholder:"输入 Secret Id"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Secret Key"},{default:d((()=>[t(de,{value:X.value.storage.cos.secretKey,"onUpdate:value":a[38]||(a[38]=e=>X.value.storage.cos.secretKey=e),placeholder:"输入 Secret Key"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Bucket"},{default:d((()=>[t(l,{value:X.value.storage.cos.bucket,"onUpdate:value":a[39]||(a[39]=e=>X.value.storage.cos.bucket=e),placeholder:"输入 Bucket"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Region"},{default:d((()=>[t(l,{value:X.value.storage.cos.region,"onUpdate:value":a[40]||(a[40]=e=>X.value.storage.cos.region=e),placeholder:"输入 Region，例如：ap-guangzhou"},null,8,["value"])])),_:1}),t(r,{required:"",label:"储存目录"},{default:d((()=>[t(l,{value:X.value.storage.cos.filePath,"onUpdate:value":a[41]||(a[41]=e=>X.value.storage.cos.filePath=e),placeholder:"输入储存目录"},null,8,["value"])])),_:1})],64)):p("",!0),"s3"===X.value.storage.type?(v(),u(m,{key:3},[t(r,{required:"",label:"Endpoint"},{default:d((()=>[t(l,{value:X.value.storage.s3.endpoint,"onUpdate:value":a[42]||(a[42]=e=>X.value.storage.s3.endpoint=e),placeholder:"输入 Endpoint，例如：s3.amazonaws.com 或 minio.example.com:9000 或 r2.cloudflarestorage.com"},null,8,["value"])])),_:1}),t(r,{required:"",label:"AccessKeyId"},{default:d((()=>[t(l,{value:X.value.storage.s3.accessKeyId,"onUpdate:value":a[43]||(a[43]=e=>X.value.storage.s3.accessKeyId=e),placeholder:"输入 AccessKeyId"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SecretAccessKey"},{default:d((()=>[t(de,{value:X.value.storage.s3.secretAccessKey,"onUpdate:value":a[44]||(a[44]=e=>X.value.storage.s3.secretAccessKey=e),placeholder:"输入 SecretAccessKey"},null,8,["value"])])),_:1}),t(r,{label:"Region"},{default:d((()=>[t(l,{value:X.value.storage.s3.region,"onUpdate:value":a[45]||(a[45]=e=>X.value.storage.s3.region=e),placeholder:"输入 Region，例如：us-east-1 或 auto"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Bucket"},{default:d((()=>[t(l,{value:X.value.storage.s3.bucket,"onUpdate:value":a[46]||(a[46]=e=>X.value.storage.s3.bucket=e),placeholder:"输入 Bucket"},null,8,["value"])])),_:1}),t(r,{required:"",label:"存储目录"},{default:d((()=>[t(l,{value:X.value.storage.s3.directory,"onUpdate:value":a[47]||(a[47]=e=>X.value.storage.s3.directory=e),placeholder:"输入存储目录"},null,8,["value"])])),_:1}),t(r,{label:"使用 SSL"},{default:d((()=>[t(G,{checked:X.value.storage.s3.useSSL,"onUpdate:checked":a[48]||(a[48]=e=>X.value.storage.s3.useSSL=e)},null,8,["checked"]),a[168]||(a[168]=f("p",null,"如果使用 MinIO 或 Cloudflare R2，请根据服务器配置选择是否启用 SSL",-1))])),_:1,__:[168]})],64)):p("",!0),"qiniu"===X.value.storage.type?(v(),u(m,{key:4},[t(r,{required:"",label:"Access Key"},{default:d((()=>[t(l,{value:X.value.storage.qiniu.accessKey,"onUpdate:value":a[49]||(a[49]=e=>X.value.storage.qiniu.accessKey=e),placeholder:"输入 Access Key"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Secret Key"},{default:d((()=>[t(de,{value:X.value.storage.qiniu.secretKey,"onUpdate:value":a[50]||(a[50]=e=>X.value.storage.qiniu.secretKey=e),placeholder:"输入 Secret Key"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Bucket"},{default:d((()=>[t(l,{value:X.value.storage.qiniu.bucket,"onUpdate:value":a[51]||(a[51]=e=>X.value.storage.qiniu.bucket=e),placeholder:"输入 Bucket"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Bucket 域名"},{default:d((()=>[t(l,{value:X.value.storage.qiniu.domain,"onUpdate:value":a[52]||(a[52]=e=>X.value.storage.qiniu.domain=e),placeholder:"输入 Bucket 域名"},null,8,["value"])])),_:1})],64)):p("",!0),"upyun"===X.value.storage.type?(v(),u(m,{key:5},[t(r,{required:"",label:"又拍云服务名"},{default:d((()=>[t(l,{value:X.value.storage.upyun.service,"onUpdate:value":a[53]||(a[53]=e=>X.value.storage.upyun.service=e),placeholder:"输入服务名"},null,8,["value"])])),_:1}),t(r,{required:"",label:"又拍云操作员"},{default:d((()=>[t(l,{value:X.value.storage.upyun.operator,"onUpdate:value":a[54]||(a[54]=e=>X.value.storage.upyun.operator=e),placeholder:"输入操作员"},null,8,["value"])])),_:1}),t(r,{required:"",label:"又拍云密码"},{default:d((()=>[t(de,{value:X.value.storage.upyun.password,"onUpdate:value":a[55]||(a[55]=e=>X.value.storage.upyun.password=e),placeholder:"输入密码"},null,8,["value"])])),_:1}),t(r,{required:"",label:"存储目录"},{default:d((()=>[t(l,{value:X.value.storage.upyun.directory,"onUpdate:value":a[56]||(a[56]=e=>X.value.storage.upyun.directory=e),placeholder:"输入储存目录"},null,8,["value"])])),_:1}),t(r,{required:"",label:"访问域名"},{default:d((()=>[t(l,{value:X.value.storage.upyun.domain,"onUpdate:value":a[57]||(a[57]=e=>X.value.storage.upyun.domain=e),placeholder:"输入访问域名, 例如: https://domain.com"},null,8,["value"])])),_:1})],64)):p("",!0),"sftp"===X.value.storage.type?(v(),u(m,{key:6},[t(r,{required:"",label:"主机地址",placeholder:"输入主机地址"},{default:d((()=>[t(l,{value:X.value.storage.sftp.host,"onUpdate:value":a[58]||(a[58]=e=>X.value.storage.sftp.host=e)},null,8,["value"])])),_:1}),t(r,{required:"",label:"端口"},{default:d((()=>[t(l,{value:X.value.storage.sftp.port,"onUpdate:value":a[59]||(a[59]=e=>X.value.storage.sftp.port=e),placeholder:"输入端口，默认为 22"},null,8,["value"])])),_:1}),t(r,{required:"",label:"用户名"},{default:d((()=>[t(l,{value:X.value.storage.sftp.username,"onUpdate:value":a[60]||(a[60]=e=>X.value.storage.sftp.username=e),placeholder:"输入用户名"},null,8,["value"])])),_:1}),t(r,{required:"",label:"密码"},{default:d((()=>[t(de,{value:X.value.storage.sftp.password,"onUpdate:value":a[61]||(a[61]=e=>X.value.storage.sftp.password=e),placeholder:"输入密码"},null,8,["value"])])),_:1}),t(r,{required:"",label:"储存目录"},{default:d((()=>[t(l,{value:X.value.storage.sftp.directory,"onUpdate:value":a[62]||(a[62]=e=>X.value.storage.sftp.directory=e),placeholder:"输入储存目录"},null,8,["value"])])),_:1}),t(r,{required:"",label:"连接超时时间"},{default:d((()=>[t(l,{value:X.value.storage.sftp.connectTimeout,"onUpdate:value":a[63]||(a[63]=e=>X.value.storage.sftp.connectTimeout=e),placeholder:"输入连接超时时间，默认为 10 秒"},null,8,["value"])])),_:1}),t(r,{required:"",label:"连接最大尝试次数"},{default:d((()=>[t(l,{value:X.value.storage.sftp.retries,"onUpdate:value":a[64]||(a[64]=e=>X.value.storage.sftp.retries=e),placeholder:"输入连接最大尝试次数，默认为 4 次"},null,8,["value"])])),_:1}),t(r,{required:"",label:"访问域名"},{default:d((()=>[t(l,{value:X.value.storage.sftp.domain,"onUpdate:value":a[65]||(a[65]=e=>X.value.storage.sftp.domain=e),placeholder:"输入访问域名, 例如: https://domain.com"},null,8,["value"])])),_:1}),t(r,{label:"主机指纹"},{default:d((()=>[t(de,{value:X.value.storage.sftp.hostFingerprint,"onUpdate:value":a[66]||(a[66]=e=>X.value.storage.sftp.hostFingerprint=e),placeholder:"输入主机指纹"},null,8,["value"])])),_:1}),t(r,{label:"使用 SSH 代理"},{default:d((()=>[t(G,{checked:X.value.storage.sftp.useSSH,"onUpdate:checked":a[67]||(a[67]=e=>X.value.storage.sftp.useSSH=e)},null,8,["checked"])])),_:1}),X.value.storage.sftp.useSSH?(v(),u(m,{key:0},[t(r,{label:"私钥"},{default:d((()=>[t(ie,{value:X.value.storage.sftp.privateKey,"onUpdate:value":a[68]||(a[68]=e=>X.value.storage.sftp.privateKey=e),placeholder:"使用私钥连接请输入私钥","auto-size":{minRows:2,maxRows:5}},null,8,["value"])])),_:1}),t(r,{label:"私钥口令"},{default:d((()=>[t(de,{value:X.value.storage.sftp.passphrase,"onUpdate:value":a[69]||(a[69]=e=>X.value.storage.sftp.passphrase=e),placeholder:"使用私钥连接请输入私钥口令"},null,8,["value"])])),_:1})],64)):p("",!0)],64)):p("",!0),"ftp"===X.value.storage.type?(v(),u(m,{key:7},[t(r,{required:"",label:"储存目录"},{default:d((()=>[t(l,{value:X.value.storage.ftp.directory,"onUpdate:value":a[70]||(a[70]=e=>X.value.storage.ftp.directory=e),placeholder:"输入储存目录"},null,8,["value"])])),_:1}),t(r,{required:"",label:"主机地址"},{default:d((()=>[t(l,{value:X.value.storage.ftp.host,"onUpdate:value":a[71]||(a[71]=e=>X.value.storage.ftp.host=e),placeholder:"输入主机地址"},null,8,["value"])])),_:1}),t(r,{required:"",label:"用户名"},{default:d((()=>[t(l,{value:X.value.storage.ftp.username,"onUpdate:value":a[72]||(a[72]=e=>X.value.storage.ftp.username=e),placeholder:"输入用户名"},null,8,["value"])])),_:1}),t(r,{required:"",label:"密码"},{default:d((()=>[t(de,{value:X.value.storage.ftp.password,"onUpdate:value":a[73]||(a[73]=e=>X.value.storage.ftp.password=e),placeholder:"输入密码"},null,8,["value"])])),_:1}),t(r,{required:"",label:"端口"},{default:d((()=>[t(l,{value:X.value.storage.ftp.port,"onUpdate:value":a[74]||(a[74]=e=>X.value.storage.ftp.port=e),placeholder:"输入端口，默认为 21"},null,8,["value"])])),_:1}),t(r,{required:"",label:"传输模式"},{default:d((()=>[t(O,{value:X.value.storage.ftp.transferMode,"onUpdate:value":a[75]||(a[75]=e=>X.value.storage.ftp.transferMode=e)},{default:d((()=>[t(M,{value:"binary"},{default:d((()=>a[169]||(a[169]=[U("FTP_BINARY")]))),_:1,__:[169]}),t(M,{value:"ascii"},{default:d((()=>a[170]||(a[170]=[U("FTP_ASCII")]))),_:1,__:[170]})])),_:1},8,["value"]),a[171]||(a[171]=f("p",null,"请选择传输模式，默认为 FTP_BINARY",-1))])),_:1,__:[171]}),t(r,{required:"",label:"连接超时时间"},{default:d((()=>[t(l,{value:X.value.storage.ftp.connectTimeout,"onUpdate:value":a[76]||(a[76]=e=>X.value.storage.ftp.connectTimeout=e),placeholder:"输入连接超时时间，默认为 90 秒"},null,8,["value"])])),_:1}),t(r,{required:"",label:"访问域名"},{default:d((()=>[t(l,{value:X.value.storage.ftp.domain,"onUpdate:value":a[77]||(a[77]=e=>X.value.storage.ftp.domain=e),placeholder:"输入访问域名, 例如: https://domain.com"},null,8,["value"])])),_:1}),t(r,{label:"是否使用被动模式"},{default:d((()=>[t(G,{checked:X.value.storage.ftp.passive,"onUpdate:checked":a[78]||(a[78]=e=>X.value.storage.ftp.passive=e)},null,8,["checked"])])),_:1}),t(r,{label:"是否使用 SSL 连接"},{default:d((()=>[t(G,{checked:X.value.storage.ftp.secure,"onUpdate:checked":a[79]||(a[79]=e=>X.value.storage.ftp.secure=e)},null,8,["checked"])])),_:1}),t(r,{label:"是否忽略被动模式下的远程 IP 地址"},{default:d((()=>[t(G,{checked:X.value.storage.ftp.ignorePassiveIP,"onUpdate:checked":a[80]||(a[80]=e=>X.value.storage.ftp.ignorePassiveIP=e)},null,8,["checked"])])),_:1}),t(r,{label:"是否启用 Unix 时间戳"},{default:d((()=>[t(G,{checked:X.value.storage.ftp.useUnixTimestamp,"onUpdate:checked":a[81]||(a[81]=e=>X.value.storage.ftp.useUnixTimestamp=e)},null,8,["checked"])])),_:1}),t(r,{label:"是否启用 UTF-8 编码"},{default:d((()=>[t(G,{checked:X.value.storage.ftp.useUTF8,"onUpdate:checked":a[82]||(a[82]=e=>X.value.storage.ftp.useUTF8=e)},null,8,["checked"])])),_:1}),t(r,{label:"是否手动递归"},{default:d((()=>[t(G,{checked:X.value.storage.ftp.recursive,"onUpdate:checked":a[83]||(a[83]=e=>X.value.storage.ftp.recursive=e)},null,8,["checked"])])),_:1})],64)):p("",!0),"webdav"===X.value.storage.type?(v(),u(m,{key:8},[t(r,{label:"储存目录"},{default:d((()=>[t(l,{value:X.value.storage.webdav.directory,"onUpdate:value":a[84]||(a[84]=e=>X.value.storage.webdav.directory=e)},null,8,["value"])])),_:1}),t(r,{required:"",label:"连接地址"},{default:d((()=>[t(l,{value:X.value.storage.webdav.url,"onUpdate:value":a[85]||(a[85]=e=>X.value.storage.webdav.url=e),placeholder:"输入连接地址"},null,8,["value"])])),_:1}),t(r,{required:"",label:"认证方式"},{default:d((()=>[t(O,{value:X.value.storage.webdav.authType,"onUpdate:value":a[86]||(a[86]=e=>X.value.storage.webdav.authType=e)},{default:d((()=>[t(M,{value:"auto"},{default:d((()=>a[172]||(a[172]=[U("Auto")]))),_:1,__:[172]}),t(M,{value:"basic"},{default:d((()=>a[173]||(a[173]=[U("Basic")]))),_:1,__:[173]}),t(M,{value:"digest"},{default:d((()=>a[174]||(a[174]=[U("Digest")]))),_:1,__:[174]}),t(M,{value:"ntlm"},{default:d((()=>a[175]||(a[175]=[U("Ntlm")]))),_:1,__:[175]})])),_:1},8,["value"]),a[176]||(a[176]=f("p",null,"请选择认证方式，默认 Auto",-1))])),_:1,__:[176]}),t(r,{required:"",label:"用户名"},{default:d((()=>[t(l,{value:X.value.storage.webdav.username,"onUpdate:value":a[87]||(a[87]=e=>X.value.storage.webdav.username=e),placeholder:"输入用户名"},null,8,["value"])])),_:1}),t(r,{required:"",label:"密码"},{default:d((()=>[t(de,{value:X.value.storage.webdav.password,"onUpdate:value":a[88]||(a[88]=e=>X.value.storage.webdav.password=e),placeholder:"输入密码"},null,8,["value"])])),_:1}),t(r,{required:"",label:"访问域名"},{default:d((()=>[t(l,{value:X.value.storage.webdav.domain,"onUpdate:value":a[89]||(a[89]=e=>X.value.storage.webdav.domain=e),placeholder:"输入访问域名, 例如: https://domain.com"},null,8,["value"])])),_:1})],64)):p("",!0),"telegram"===X.value.storage.type?(v(),u(m,{key:9},[t(r,{required:"",label:"BotToken"},{default:d((()=>[t(de,{value:X.value.storage.telegram.botToken,"onUpdate:value":a[90]||(a[90]=e=>X.value.storage.telegram.botToken=e),placeholder:"输入 BotToken"},null,8,["value"])])),_:1}),t(r,{required:"",label:"聊天ID"},{default:d((()=>[t(l,{value:X.value.storage.telegram.chatId,"onUpdate:value":a[91]||(a[91]=e=>X.value.storage.telegram.chatId=e),placeholder:"输入聊天ID"},null,8,["value"])])),_:1}),t(r,{required:"",label:"频道ID"},{default:d((()=>[t(l,{value:X.value.storage.telegram.channelId,"onUpdate:value":a[92]||(a[92]=e=>X.value.storage.telegram.channelId=e),placeholder:"输入频道ID"},null,8,["value"])])),_:1}),t(r,{label:"禁用轮询"},{default:d((()=>[t(G,{checked:X.value.storage.telegram.polling,"onUpdate:checked":a[93]||(a[93]=e=>X.value.storage.telegram.polling=e)},null,8,["checked"])])),_:1}),t(r,{label:"连接超时时间"},{default:d((()=>[t(l,{value:X.value.storage.telegram.timeout,"onUpdate:value":a[94]||(a[94]=e=>X.value.storage.telegram.timeout=e),placeholder:"输入连接超时时间，默认为 30 秒"},null,8,["value"])])),_:1}),t(r,{label:"代理地址"},{default:d((()=>[t(l,{value:X.value.storage.telegram.proxy,"onUpdate:value":a[95]||(a[95]=e=>X.value.storage.telegram.proxy=e),placeholder:"输入代理地址"},null,8,["value"])])),_:1})],64)):p("",!0),"github"===X.value.storage.type?(v(),u(m,{key:10},[t(r,{required:"",label:"GitHub 个人访问令牌"},{default:d((()=>[t(de,{value:X.value.storage.github.token,"onUpdate:value":a[96]||(a[96]=e=>X.value.storage.github.token=e),placeholder:"输入 GitHub 个人访问令牌"},null,8,["value"])])),_:1}),t(r,{required:"",label:"仓库所有者"},{default:d((()=>[t(l,{value:X.value.storage.github.owner,"onUpdate:value":a[97]||(a[97]=e=>X.value.storage.github.owner=e),placeholder:"输入仓库所有者"},null,8,["value"])])),_:1}),t(r,{required:"",label:"仓库名称"},{default:d((()=>[t(l,{value:X.value.storage.github.repo,"onUpdate:value":a[98]||(a[98]=e=>X.value.storage.github.repo=e),placeholder:"输入仓库名称"},null,8,["value"])])),_:1}),t(r,{required:"",label:"分支名称"},{default:d((()=>[t(l,{value:X.value.storage.github.branch,"onUpdate:value":a[99]||(a[99]=e=>X.value.storage.github.branch=e),placeholder:"输入分支名称"},null,8,["value"])])),_:1}),t(r,{required:"",label:"存储目录"},{default:d((()=>[t(l,{value:X.value.storage.github.directory,"onUpdate:value":a[100]||(a[100]=e=>X.value.storage.github.directory=e),placeholder:"输入存储目录"},null,8,["value"]),a[177]||(a[177]=f("p",null,'Github不允许文件路径以斜杠"/"开头',-1))])),_:1,__:[177]}),t(r,{required:"",label:"连接超时时间"},{default:d((()=>[t(l,{value:X.value.storage.github.timeout,"onUpdate:value":a[101]||(a[101]=e=>X.value.storage.github.timeout=e),placeholder:"输入连接超时时间，默认为 30 秒"},null,8,["value"])])),_:1}),t(r,{required:"",label:"重试次数"},{default:d((()=>[t(l,{value:X.value.storage.github.retries,"onUpdate:value":a[102]||(a[102]=e=>X.value.storage.github.retries=e),placeholder:"输入重试次数，默认为 3 次"},null,8,["value"])])),_:1}),t(r,{required:"",label:"重试间隔时间"},{default:d((()=>[t(l,{value:X.value.storage.github.retryAfter,"onUpdate:value":a[103]||(a[103]=e=>X.value.storage.github.retryAfter=e),placeholder:"输入重试次数，默认为 5 秒"},null,8,["value"])])),_:1}),t(r,{label:"开启自定义域名"},{default:d((()=>[t(G,{checked:X.value.storage.github.customDomain,"onUpdate:checked":a[104]||(a[104]=e=>X.value.storage.github.customDomain=e)},null,8,["checked"]),a[178]||(a[178]=f("p",null,"开启自定义域名后, 图片可访问状态以Github Pages build状态为准",-1))])),_:1,__:[178]}),X.value.storage.github.customDomain?(v(),i(r,{key:0,label:"是否Github Pages"},{default:d((()=>[t(G,{checked:X.value.storage.github.isGithubPages,"onUpdate:checked":a[105]||(a[105]=e=>X.value.storage.github.isGithubPages=e)},null,8,["checked"])])),_:1})):p("",!0),X.value.storage.github.customDomain&&!X.value.storage.github.isGithubPages?(v(),i(r,{key:1,required:"",label:"自定义域名"},{default:d((()=>[t(l,{value:X.value.storage.github.domain,"onUpdate:value":a[106]||(a[106]=e=>X.value.storage.github.domain=e),placeholder:"输入自定义域名, 例如: https://domain.com"},null,8,["value"])])),_:1})):p("",!0),X.value.storage.github.customDomain&&X.value.storage.github.isGithubPages?(v(),i(r,{key:2,required:"",label:"Github Pages"},{default:d((()=>[t(l,{value:X.value.storage.github.githubPages,"onUpdate:value":a[107]||(a[107]=e=>X.value.storage.github.githubPages=e),placeholder:"输入Github Pages, 例如: https://user.github.io"},null,8,["value"])])),_:1})):p("",!0)],64)):p("",!0)])),_:1}),t(F,{key:"5",header:"鉴黄设置"},{default:d((()=>[t(r,{label:"鉴黄开关"},{default:d((()=>[t(G,{checked:X.value.ai.enabled,"onUpdate:checked":a[108]||(a[108]=e=>X.value.ai.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"]),a[179]||(a[179]=f("p",null,"设置上传是否需要应用第三方审查，违规的图片会被标记为不健康的图片，或直接被删除。",-1))])),_:1,__:[179]}),t(r,{label:"自动拉黑"},{default:d((()=>[t(G,{checked:X.value.ai.autoBlack,"onUpdate:checked":a[109]||(a[109]=e=>X.value.ai.autoBlack=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"]),a[180]||(a[180]=f("p",null,"该功能需要同步弃用IP设置里的黑名单开关。设置之后用户如果上传违规图片，会被自动列入IP黑名单",-1))])),_:1,__:[180]}),X.value.ai.enabled?(v(),u(m,{key:0},[t(r,{label:"图片处理"},{default:d((()=>[t(oe,{value:X.value.ai.action,"onUpdate:value":a[110]||(a[110]=e=>X.value.ai.action=e)},{default:d((()=>[t(re,{value:"reject"},{default:d((()=>a[181]||(a[181]=[U("标记为不健康")]))),_:1,__:[181]}),t(re,{value:"mark"},{default:d((()=>a[182]||(a[182]=[U("直接删除")]))),_:1,__:[182]})])),_:1},8,["value"])])),_:1}),t(r,{label:"图片审核"},{default:d((()=>[t(O,{value:X.value.ai.type,"onUpdate:value":a[111]||(a[111]=e=>X.value.ai.type=e)},{default:d((()=>[t(M,{value:"tencent"},{default:d((()=>a[183]||(a[183]=[U("腾讯云")]))),_:1,__:[183]}),t(M,{value:"aliyun"},{default:d((()=>a[184]||(a[184]=[U("阿里云")]))),_:1,__:[184]}),t(M,{value:"nsfwjs"},{default:d((()=>a[185]||(a[185]=[U("NsfwJs")]))),_:1,__:[185]})])),_:1},8,["value"])])),_:1}),"tencent"===X.value.ai.type?(v(),u(m,{key:0},[t(r,{required:"",label:"Endpoint"},{default:d((()=>[t(l,{value:X.value.ai.tencent.endpoint,"onUpdate:value":a[112]||(a[112]=e=>X.value.ai.tencent.endpoint=e),placeholder:"请输入 Endpoint"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SecretId"},{default:d((()=>[t(l,{value:X.value.ai.tencent.secretId,"onUpdate:value":a[113]||(a[113]=e=>X.value.ai.tencent.secretId=e),placeholder:"请输入 SecretId"},null,8,["value"])])),_:1}),t(r,{required:"",label:"SecretKey"},{default:d((()=>[t(de,{value:X.value.ai.tencent.secretKey,"onUpdate:value":a[114]||(a[114]=e=>X.value.ai.tencent.secretKey=e),placeholder:"请输入 SecretKey"},null,8,["value"])])),_:1}),t(r,{required:"",label:"地域"},{default:d((()=>[t(l,{value:X.value.ai.tencent.region,"onUpdate:value":a[115]||(a[115]=e=>X.value.ai.tencent.region=e),placeholder:"请输入地域节点，例如：ap-beijing"},null,8,["value"])])),_:1}),t(r,{label:"场景名称(Biztype名称)"},{default:d((()=>[t(l,{value:X.value.ai.tencent.bizType,"onUpdate:value":a[116]||(a[116]=e=>X.value.ai.tencent.bizType=e),placeholder:"业务场景名称，可为空"},null,8,["value"])])),_:1})],64)):p("",!0),"aliyun"===X.value.ai.type?(v(),u(m,{key:1},[t(r,{required:"",label:"AccessKeyId"},{default:d((()=>[t(l,{value:X.value.ai.aliyun.accessKeyId,"onUpdate:value":a[117]||(a[117]=e=>X.value.ai.aliyun.accessKeyId=e),placeholder:"请输入 AccessKeyId"},null,8,["value"])])),_:1}),t(r,{required:"",label:"AccessKeySecret"},{default:d((()=>[t(de,{value:X.value.ai.aliyun.accessKeySecret,"onUpdate:value":a[118]||(a[118]=e=>X.value.ai.aliyun.accessKeySecret=e),placeholder:"请输入 AccessKeySecret"},null,8,["value"])])),_:1}),t(r,{required:"",label:"地域节点"},{default:d((()=>[t(l,{value:X.value.ai.aliyun.region,"onUpdate:value":a[119]||(a[119]=e=>X.value.ai.aliyun.region=e),placeholder:"请输入地域节点，例如：cn-shanghai"},null,8,["value"])])),_:1}),t(r,{required:"",label:"检测 Service"},{default:d((()=>[t(l,{value:X.value.ai.aliyun.service,"onUpdate:value":a[120]||(a[120]=e=>X.value.ai.aliyun.service=e),placeholder:"检测服务规则配置，示例：baselineCheck"},null,8,["value"])])),_:1}),t(r,{required:"",label:"阈值"},{default:d((()=>[t(ve,{value:X.value.ai.aliyun.threshold,"onUpdate:value":a[121]||(a[121]=e=>X.value.ai.aliyun.threshold=e),min:1,max:100,placeholder:"取值 1-100"},null,8,["value"]),a[186]||(a[186]=f("p",null,"阈值是指图片违规程度上限，取值 1-100 之间，数值越低审核越严格",-1))])),_:1,__:[186]})],64)):p("",!0),"nsfwjs"===X.value.ai.type?(v(),u(m,{key:2},[t(r,{required:"",label:"接口地址"},{default:d((()=>[t(l,{value:X.value.ai.nsfwjs.apiUrl,"onUpdate:value":a[122]||(a[122]=e=>X.value.ai.nsfwjs.apiUrl=e),placeholder:"请输入接口地址，http(s)://domain.com/classify"},null,8,["value"])])),_:1}),t(r,{required:"",label:"阈值"},{default:d((()=>[t(ve,{value:X.value.ai.nsfwjs.threshold,"onUpdate:value":a[123]||(a[123]=e=>X.value.ai.nsfwjs.threshold=e),min:1,max:100,placeholder:"取值 1-100"},null,8,["value"]),a[187]||(a[187]=f("p",null,"阈值是指图片违规程度上限，取值 1-100 之间，数值越低审核越严格",-1))])),_:1,__:[187]})],64)):p("",!0)],64)):p("",!0)])),_:1}),t(F,{key:"6",header:"上传设置"},{default:d((()=>[t(r,{label:"允许的图片格式"},{default:d((()=>[t(O,{value:X.value.upload.allowedFormats,"onUpdate:value":a[124]||(a[124]=e=>X.value.upload.allowedFormats=e),mode:"multiple",placeholder:"选择允许的图片格式"},{default:d((()=>[(v(!0),u(m,null,k(C(H),(e=>(v(),i(M,{value:e,key:e},{default:d((()=>[U(q(e.toUpperCase()),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),t(r,{label:"最大文件大小(MB)"},{default:d((()=>[t(ve,{value:X.value.upload.maxSize,"onUpdate:value":a[125]||(a[125]=e=>X.value.upload.maxSize=e),min:1,max:100},null,8,["value"])])),_:1}),t(r,{label:"最多同时上传图片数量"},{default:d((()=>[t(ve,{value:X.value.upload.concurrentUploads,"onUpdate:value":a[126]||(a[126]=e=>X.value.upload.concurrentUploads=e),min:1},null,8,["value"])])),_:1}),t(ge,{gutter:16},{default:d((()=>[t(he,{span:12},{default:d((()=>[t(r,{label:"最小宽度(px)"},{default:d((()=>[t(ve,{value:X.value.upload.minWidth,"onUpdate:value":a[127]||(a[127]=e=>X.value.upload.minWidth=e),min:0},null,8,["value"])])),_:1})])),_:1}),t(he,{span:12},{default:d((()=>[t(r,{label:"最小高度(px)"},{default:d((()=>[t(ve,{value:X.value.upload.minHeight,"onUpdate:value":a[128]||(a[128]=e=>X.value.upload.minHeight=e),min:0},null,8,["value"])])),_:1})])),_:1})])),_:1}),t(ge,{gutter:16},{default:d((()=>[t(he,{span:12},{default:d((()=>[t(r,{label:"最大宽度(px)"},{default:d((()=>[t(ve,{value:X.value.upload.maxWidth,"onUpdate:value":a[129]||(a[129]=e=>X.value.upload.maxWidth=e),min:0},null,8,["value"])])),_:1})])),_:1}),t(he,{span:12},{default:d((()=>[t(r,{label:"最大高度(px)"},{default:d((()=>[t(ve,{value:X.value.upload.maxHeight,"onUpdate:value":a[130]||(a[130]=e=>X.value.upload.maxHeight=e),min:0},null,8,["value"])])),_:1})])),_:1})])),_:1}),t(r,{label:"转换格式"},{default:d((()=>[t(O,{value:X.value.upload.convertFormat,"onUpdate:value":a[131]||(a[131]=e=>X.value.upload.convertFormat=e),allowClear:"",placeholder:"选择转换格式"},{default:d((()=>[t(M,{value:""},{default:d((()=>a[188]||(a[188]=[U("不转换")]))),_:1,__:[188]}),(v(!0),u(m,null,k(C(H),(e=>(v(),i(M,{value:e,key:e},{default:d((()=>[U(q(e.toUpperCase()),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),t(r,{label:"图片压缩"},{default:d((()=>[t(G,{checked:X.value.upload.qualityOpen,"onUpdate:checked":a[132]||(a[132]=e=>X.value.upload.qualityOpen=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.upload.qualityOpen?(v(),i(r,{key:0,label:"图片质量"},{default:d((()=>[t(pe,{value:X.value.upload.quality,"onUpdate:value":a[133]||(a[133]=e=>X.value.upload.quality=e),min:1,max:100,marks:{1:"1%",25:"25%",50:"50%",75:"75%",100:"100%"}},null,8,["value"])])),_:1})):p("",!0),t(r,{label:"每日上传限制"},{default:d((()=>[t(ve,{value:X.value.upload.dailyLimit,"onUpdate:value":a[134]||(a[134]=e=>X.value.upload.dailyLimit=e),min:0,placeholder:"0表示不限制"},null,8,["value"]),a[189]||(a[189]=f("p",null,"该功能仅限制已登录用户, 游客模式下无效",-1))])),_:1,__:[189]}),t(r,{label:"文件命名规则"},{default:d((()=>[t(l,{value:X.value.upload.namingRule,"onUpdate:value":a[135]||(a[135]=e=>X.value.upload.namingRule=e),placeholder:"输入文件命名规则"},null,8,["value"]),t(_e,{class:"namingRule-collapse"},{default:d((()=>[t(F,{header:"支持的文件命名规则"},{default:d((()=>[t(fe,{data:ee},{default:d((()=>[(v(),u(m,null,k(Z,((e,a)=>t(be,{prop:e.prop,label:e.label,key:a},null,8,["prop","label"]))),64))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),t(F,{key:"7",header:"IP设置"},{default:d((()=>[t(r,{label:"黑名单开关"},{default:d((()=>[t(G,{checked:X.value.ip.enabled,"onUpdate:checked":a[136]||(a[136]=e=>X.value.ip.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),t(r,{label:"IP黑名单"},{default:d((()=>[t(ie,{value:Y.value,"onUpdate:value":a[137]||(a[137]=e=>Y.value=e),rows:4,placeholder:"每行一个IP地址",onChange:ue},null,8,["value"])])),_:1})])),_:1}),t(F,{key:"8",header:"社会化登录"},{default:d((()=>[t(r,{label:"启用社会化登录"},{default:d((()=>[t(G,{checked:X.value.oauth.enabled,"onUpdate:checked":a[138]||(a[138]=e=>X.value.oauth.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.oauth.enabled?(v(),u(m,{key:0},[t(r,{label:"GitHub登录开关"},{default:d((()=>[t(G,{checked:X.value.oauth.github.enabled,"onUpdate:checked":a[139]||(a[139]=e=>X.value.oauth.github.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.oauth.github.enabled?(v(),u(m,{key:0},[t(r,{required:"",label:"Client ID"},{default:d((()=>[t(l,{value:X.value.oauth.github.clientId,"onUpdate:value":a[140]||(a[140]=e=>X.value.oauth.github.clientId=e),placeholder:"输入 GitHub Client ID"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Client Secret"},{default:d((()=>[t(de,{value:X.value.oauth.github.clientSecret,"onUpdate:value":a[141]||(a[141]=e=>X.value.oauth.github.clientSecret=e),placeholder:"输入 GitHub Client Secret"},null,8,["value"])])),_:1}),t(r,{label:"回调地址"},{default:d((()=>[t(l,{value:X.value.oauth.github.callbackUrl,"onUpdate:value":a[142]||(a[142]=e=>X.value.oauth.github.callbackUrl=e),placeholder:"输入回调地址"},null,8,["value"])])),_:1})],64)):p("",!0),t(r,{label:"Google登录开关"},{default:d((()=>[t(G,{checked:X.value.oauth.google.enabled,"onUpdate:checked":a[143]||(a[143]=e=>X.value.oauth.google.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.oauth.google.enabled?(v(),u(m,{key:1},[t(r,{required:"",label:"Client ID"},{default:d((()=>[t(l,{value:X.value.oauth.google.clientId,"onUpdate:value":a[144]||(a[144]=e=>X.value.oauth.google.clientId=e),placeholder:"输入 Google Client ID"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Client Secret"},{default:d((()=>[t(de,{value:X.value.oauth.google.clientSecret,"onUpdate:value":a[145]||(a[145]=e=>X.value.oauth.google.clientSecret=e),placeholder:"输入 Google Client Secret"},null,8,["value"])])),_:1}),t(r,{label:"回调地址"},{default:d((()=>[t(l,{value:X.value.oauth.google.callbackUrl,"onUpdate:value":a[146]||(a[146]=e=>X.value.oauth.google.callbackUrl=e),placeholder:"输入回调地址"},null,8,["value"])])),_:1})],64)):p("",!0),t(r,{label:"Linux DO登录开关"},{default:d((()=>[t(G,{checked:X.value.oauth.linuxdo.enabled,"onUpdate:checked":a[147]||(a[147]=e=>X.value.oauth.linuxdo.enabled=e),"checked-children":"启用","un-checked-children":"禁用"},null,8,["checked"])])),_:1}),X.value.oauth.linuxdo.enabled?(v(),u(m,{key:2},[t(r,{required:"",label:"Client ID"},{default:d((()=>[t(l,{value:X.value.oauth.linuxdo.clientId,"onUpdate:value":a[148]||(a[148]=e=>X.value.oauth.linuxdo.clientId=e),placeholder:"输入 Linux DO Client ID"},null,8,["value"])])),_:1}),t(r,{required:"",label:"Client Secret"},{default:d((()=>[t(de,{value:X.value.oauth.linuxdo.clientSecret,"onUpdate:value":a[149]||(a[149]=e=>X.value.oauth.linuxdo.clientSecret=e),placeholder:"输入 Linux DO Client Secret"},null,8,["value"])])),_:1}),t(r,{label:"回调地址"},{default:d((()=>[t(l,{value:X.value.oauth.linuxdo.callbackUrl,"onUpdate:value":a[150]||(a[150]=e=>X.value.oauth.linuxdo.callbackUrl=e),placeholder:"输入回调地址"},null,8,["value"])])),_:1})],64)):p("",!0)],64)):p("",!0)])),_:1})])),_:1},8,["activeKey"]),t(r,null,{default:d((()=>[t(ne,{type:"primary","html-type":"submit",loading:J.value},{default:d((()=>a[190]||(a[190]=[U("保存设置")]))),_:1,__:[190]},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1},8,["spinning"])])}}},[["__scopeId","data-v-3f818148"]]);export{E as default};
